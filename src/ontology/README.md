This folder contains the build files for creating the FoodOn ontology, including files like foodon.owl which end up in the root folder of this github repository.

##To view

Briefly, the main file to look at is foodon.owl (in Protege or another OWL ontology editor); 
it should import the ncbitaxon_import.owl and other imports/ files too.  Use Stanford's free [Protege](http://protege.stanford.edu) ontology editor to load the main file, and browse the Langual hierarchy under the "Classes" tab.  It should also be viewable on https://www.ebi.ac.uk/ols/ soon too.

##To edit

The /src/ontology/foodon-edit.ofn can be edited using Protege; other /src/ontology/imports/ files are generated from scripts (either robot or ontofox related).  The COB, NCBITaxon, and general_ontofox.txt specification files contain term identifiers to import from respective ontologies.  

## To TEST

robot reason --input foodon-edit.owl --reasoner hermit --equivalent-classes-allowed none

##To regenerate the files

foodon.owl is generated by the 

> **make** 

command when one is in the /src/ontology/ folder.  It determines if any imports/ folder files have changed and if so reruns the import process on them.

To just update a particular import file, type:

> sh run.sh make refresh-[name of ontology or ontofox import collection]

Further instructions are at: https://oboacademy.github.io/obook/howto/update-import/

##To run SPARQL queries

Here is an example of launching a sparql query via command line directly using the **robot** http://robot.obolibrary.org/query.html query command. The end result is a list of FoodOn term labels and synonyms.

robot query --input foodon-merged.owl --query foodon_synonyms.sparql test.tsv --format TSV

## Other tools: ontofetch.py

To run ontofetch.py on local foodon-merged.owl and get a json or tsv output of all foodon terms and their ids, synonyms and parents:

python ../../../ontofetch/ontofetch.py foodon-merged.owl -r http://purl.obolibrary.org/obo/BFO_0000001 -o test/

Ontofetch is available at: https://github.com/Public-Health-Bioinformatics/ontofetch .  It requires python 3, and the python rdflib module.
